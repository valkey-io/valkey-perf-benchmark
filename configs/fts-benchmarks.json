[
  {
    "test_name": "FTS Performance Benchmarks",
    "dataset_generation": {
      "field_explosion_50k.xml": {
        "doc_count": 50000,
        "generate_fields": {
          "count": 50,
          "prefix": "field",
          "size": 1000,
          "transforms": [{"type": "wikipedia"}]
        }
      },
      "proximity_5term_1combo_100k.csv": {
        "doc_count": 100000,
        "fields": [{
          "name": "field1",
          "size": 200,
          "transforms": [{
            "type": "proximity_phrase",
            "term_count": 5,
            "combinations": 1,
            "repeats": 1000
          }]
        }]
      },
      "proximity_5term_100combo_100k.csv": {
        "doc_count": 100000,
        "fields": [{
          "name": "field1",
          "size": 500,
          "transforms": [{
            "type": "proximity_phrase",
            "term_count": 5,
            "combinations": 100,
            "repeats": 1000
          }]
        }]
      },
      "proximity_25term_100combo_100k.csv": {
        "doc_count": 100000,
        "fields": [{
          "name": "field1",
          "size": 2000,
          "transforms": [{
            "type": "proximity_phrase",
            "term_count": 25,
            "combinations": 100,
            "repeats": 1000
          }]
        }]
      }
    },
    "query_generation": {
      "proximity_5term_queries.csv": {
        "type": "proximity_phrase",
        "doc_count": 100,
        "term_count": 5
      },
      "proximity_25term_queries.csv": {
        "type": "proximity_phrase",
        "doc_count": 100,
        "term_count": 25
      }
    },
    "test_groups": [
      {
        "group": 1,
        "description": "Multi-field comprehensive (NOSTEM)",
        "scenarios": [
          {
            "id": "a",
            "type": "ingestion",
            "setup_commands": ["FT.CREATE rd0 ON HASH PREFIX 1 rd0- SCHEMA field1 TEXT NOSTEM field2 TEXT NOSTEM field3 TEXT NOSTEM field4 TEXT NOSTEM field5 TEXT NOSTEM field6 TEXT NOSTEM field7 TEXT NOSTEM field8 TEXT NOSTEM field9 TEXT NOSTEM field10 TEXT NOSTEM field11 TEXT NOSTEM field12 TEXT NOSTEM field13 TEXT NOSTEM field14 TEXT NOSTEM field15 TEXT NOSTEM field16 TEXT NOSTEM field17 TEXT NOSTEM field18 TEXT NOSTEM field19 TEXT NOSTEM field20 TEXT NOSTEM field21 TEXT NOSTEM field22 TEXT NOSTEM field23 TEXT NOSTEM field24 TEXT NOSTEM field25 TEXT NOSTEM field26 TEXT NOSTEM field27 TEXT NOSTEM field28 TEXT NOSTEM field29 TEXT NOSTEM field30 TEXT NOSTEM field31 TEXT NOSTEM field32 TEXT NOSTEM field33 TEXT NOSTEM field34 TEXT NOSTEM field35 TEXT NOSTEM field36 TEXT NOSTEM field37 TEXT NOSTEM field38 TEXT NOSTEM field39 TEXT NOSTEM field40 TEXT NOSTEM field41 TEXT NOSTEM field42 TEXT NOSTEM field43 TEXT NOSTEM field44 TEXT NOSTEM field45 TEXT NOSTEM field46 TEXT NOSTEM field47 TEXT NOSTEM field48 TEXT NOSTEM field49 TEXT NOSTEM title TEXT NOSTEM"],
            "flush_before": true,
            "dataset": "datasets/field_explosion_50k.xml",
            "xml_root_element": "doc",
            "maxdocs": 50000,
            "clients": 1000,
            "sequential": true,
            "command": "HSET rd0-__rand_int__ field1 \"__field:field1__\" field2 \"__field:field2__\" field3 \"__field:field3__\" field4 \"__field:field4__\" field5 \"__field:field5__\" field6 \"__field:field6__\" field7 \"__field:field7__\" field8 \"__field:field8__\" field9 \"__field:field9__\" field10 \"__field:field10__\" field11 \"__field:field11__\" field12 \"__field:field12__\" field13 \"__field:field13__\" field14 \"__field:field14__\" field15 \"__field:field15__\" field16 \"__field:field16__\" field17 \"__field:field17__\" field18 \"__field:field18__\" field19 \"__field:field19__\" field20 \"__field:field20__\" field21 \"__field:field21__\" field22 \"__field:field22__\" field23 \"__field:field23__\" field24 \"__field:field24__\" field25 \"__field:field25__\" field26 \"__field:field26__\" field27 \"__field:field27__\" field28 \"__field:field28__\" field29 \"__field:field29__\" field30 \"__field:field30__\" field31 \"__field:field31__\" field32 \"__field:field32__\" field33 \"__field:field33__\" field34 \"__field:field34__\" field35 \"__field:field35__\" field36 \"__field:field36__\" field37 \"__field:field37__\" field38 \"__field:field38__\" field39 \"__field:field39__\" field40 \"__field:field40__\" field41 \"__field:field41__\" field42 \"__field:field42__\" field43 \"__field:field43__\" field44 \"__field:field44__\" field45 \"__field:field45__\" field46 \"__field:field46__\" field47 \"__field:field47__\" field48 \"__field:field48__\" field49 \"__field:field49__\" title \"__field:field1__\""
          },
          {
            "id": "a",
            "type": "search",
            "description": "Single term all fields",
            "dataset": "datasets/search_terms.csv",
            "clients": 1000,
            "duration": 200,
            "warmup": 60,
            "command": "FT.SEARCH rd0 \"__field:term__\"",
            "options": {
              "": "",
              "NOCONTENT": "_nocontent"
            }
          },
          {
            "id": "b",
            "type": "search",
            "description": "Single term specific field",
            "dataset": "datasets/search_terms.csv",
            "clients": 1000,
            "duration": 200,
            "warmup": 60,
            "command": "FT.SEARCH rd0 \"@field1:__field:term__\"",
            "options": {
              "": "",
              "NOCONTENT": "_nocontent"
            }
          },
          {
            "id": "c",
            "type": "search",
            "description": "All-field Composed And",
            "dataset": "datasets/proximity_phrases.csv",
            "clients": 1000,
            "duration": 200,
            "warmup": 60,
            "command": "FT.SEARCH rd0 \"__field:term1__ __field:term2__\"",
            "options": {
              "": "",
              "NOCONTENT": "_nocontent"
            }
          },
          {
            "id": "d",
            "type": "search",
            "description": "Field-specific Composed And",
            "dataset": "datasets/proximity_phrases.csv",
            "clients": 1000,
            "duration": 200,
            "warmup": 60,
            "command": "FT.SEARCH rd0 \"@field1:__field:term1__ @field1:__field:term2__\"",
            "options": {
              "": "",
              "NOCONTENT": "_nocontent"
            }
          },
          {
            "id": "e",
            "type": "search",
            "description": "Field-specific single term 50 perc hits",
            "dataset": "datasets/mixed_match.csv",
            "clients": 1000,
            "duration": 200,
            "warmup": 60,
            "command": "FT.SEARCH rd0 \"@field1:__field:term__\"",
            "options": {
              "": "",
              "NOCONTENT": "_nocontent"
            }
          },
          {
            "id": "f",
            "type": "search",
            "description": "All-field proximity phrase",
            "dataset": "datasets/proximity_phrases.csv",
            "clients": 1000,
            "duration": 200,
            "warmup": 60,
            "command": "FT.SEARCH rd0 '\"__field:term1__ __field:term2__\"'",
            "options": {
              "": "",
              "NOCONTENT": "_nocontent"
            }
          },
          {
            "id": "g",
            "type": "search",
            "description": "Field-specific proximity phrase",
            "dataset": "datasets/proximity_phrases.csv",
            "clients": 1000,
            "duration": 200,
            "warmup": 60,
            "command": "FT.SEARCH rd0 '@field1:\"__field:term1__ __field:term2__\"'",
            "options": {
              "": "",
              "NOCONTENT": "_nocontent"
            }
          }
        ]
      },
      {
        "group": 2,
        "description": "Proximity queries - 5-term best case (1 combination)",
        "scenarios": [
          {
            "id": "a",
            "type": "ingestion",
            "setup_commands": ["FT.CREATE rd0 ON HASH PREFIX 1 rd0- SCHEMA field1 TEXT NOSTEM"],
            "flush_before": true,
            "dataset": "datasets/proximity_5term_1combo_100k.csv",
            "maxdocs": 100000,
            "clients": 1000,
            "sequential": true,
            "command": "HSET rd0-__rand_int__ field1 \"__field:field1__\""
          },
          {
            "id": "a",
            "type": "search",
            "description": "5-term proximity, default field, slop=0",
            "dataset": "datasets/proximity_5term_queries.csv",
            "clients": 1000,
            "duration": 200,
            "warmup": 60,
            "command": "FT.SEARCH rd0 \"__field:term1__ __field:term2__ __field:term3__ __field:term4__ __field:term5__\" SLOP 0 INORDER",
            "options": {
              "": "",
              "NOCONTENT": "_nocontent"
            }
          },
          {
            "id": "b",
            "type": "search",
            "description": "5-term proximity, specific field, slop=0",
            "dataset": "datasets/proximity_5term_queries.csv",
            "clients": 1000,
            "duration": 200,
            "warmup": 60,
            "command": "FT.SEARCH rd0 \"@field1:__field:term1__ @field1:__field:term2__ @field1:__field:term3__ @field1:__field:term4__ @field1:__field:term5__\" SLOP 0 INORDER",
            "options": {
              "": "",
              "NOCONTENT": "_nocontent"
            }
          }
        ]
      },
      {
        "group": 3,
        "description": "Proximity queries - 5-term worst case (100 combinations)",
        "scenarios": [
          {
            "id": "a",
            "type": "ingestion",
            "setup_commands": ["FT.CREATE rd0 ON HASH PREFIX 1 rd0- SCHEMA field1 TEXT NOSTEM"],
            "flush_before": true,
            "dataset": "datasets/proximity_5term_100combo_100k.csv",
            "maxdocs": 100000,
            "clients": 1000,
            "sequential": true,
            "command": "HSET rd0-__rand_int__ field1 \"__field:field1__\""
          },
          {
            "id": "a",
            "type": "search",
            "description": "5-term proximity, specific field, slop=0, 100 combos",
            "dataset": "datasets/proximity_5term_queries.csv",
            "clients": 1000,
            "duration": 200,
            "warmup": 60,
            "command": "FT.SEARCH rd0 \"@field1:__field:term1__ @field1:__field:term2__ @field1:__field:term3__ @field1:__field:term4__ @field1:__field:term5__\" SLOP 0 INORDER",
            "options": {
              "": "",
              "NOCONTENT": "_nocontent"
            }
          },
          {
            "id": "b",
            "type": "search",
            "description": "5-term proximity, specific field, slop=3, 100 combos",
            "dataset": "datasets/proximity_5term_queries.csv",
            "clients": 1000,
            "duration": 200,
            "warmup": 60,
            "command": "FT.SEARCH rd0 \"@field1:__field:term1__ @field1:__field:term2__ @field1:__field:term3__ @field1:__field:term4__ @field1:__field:term5__\" SLOP 3 INORDER",
            "options": {
              "": "",
              "NOCONTENT": "_nocontent"
            }
          }
        ]
      },
      {
        "group": 4,
        "description": "Proximity queries - 25-term worst case (100 combinations)",
        "scenarios": [
          {
            "id": "a",
            "type": "ingestion",
            "setup_commands": ["FT.CREATE rd0 ON HASH PREFIX 1 rd0- SCHEMA field1 TEXT NOSTEM"],
            "flush_before": true,
            "dataset": "datasets/proximity_25term_100combo_100k.csv",
            "maxdocs": 100000,
            "clients": 1000,
            "sequential": true,
            "command": "HSET rd0-__rand_int__ field1 \"__field:field1__\""
          },
          {
            "id": "a",
            "type": "search",
            "description": "25-term proximity, specific field, slop=3, 100 combos",
            "dataset": "datasets/proximity_25term_queries.csv",
            "clients": 1000,
            "duration": 200,
            "warmup": 60,
            "command": "FT.SEARCH rd0 \"@field1:__field:term1__ @field1:__field:term2__ @field1:__field:term3__ @field1:__field:term4__ @field1:__field:term5__ @field1:__field:term6__ @field1:__field:term7__ @field1:__field:term8__ @field1:__field:term9__ @field1:__field:term10__ @field1:__field:term11__ @field1:__field:term12__ @field1:__field:term13__ @field1:__field:term14__ @field1:__field:term15__ @field1:__field:term16__ @field1:__field:term17__ @field1:__field:term18__ @field1:__field:term19__ @field1:__field:term20__ @field1:__field:term21__ @field1:__field:term22__ @field1:__field:term23__ @field1:__field:term24__ @field1:__field:term25__\" SLOP 3 INORDER",
            "options": {
              "": "",
              "NOCONTENT": "_nocontent"
            }
          }
        ]
      }
    ],
    "port": 6379,
    "cluster_mode": false,
    "tls_mode": false,
    "server_cpu_range": "0-7",
    "client_cpu_range": "8-15",
    "io-threads": 8,
    "config_sets": [
      {
        "search.reader-threads": 1,
        "search.writer-threads": 1
      },
      {
        "search.reader-threads": 8,
        "search.writer-threads": 8
      }
    ],
    "monitoring": {
      "cpu_enabled": false,
      "per_cpu_enabled": false
    },
    "profiling": {
      "enabled": false,
      "mode": "wall-time",
      "sampling_freq": 999,
      "ingestion": {
        "profile_delay": 10,
        "profile_duration": 10
      },
      "search": {
        "profile_delay": 30,
        "profile_duration": 10
      }
    }
  }
]
